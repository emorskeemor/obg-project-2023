{"ast":null,"code":"import { h, ref, computed, getCurrentInstance } from 'vue';\nimport QChip from '../chip/QChip.js';\nimport useField, { useFieldState, useFieldProps, useFieldEmits, fieldValueIsFilled } from '../../composables/private/use-field.js';\nimport { useFormProps, useFormInputNameAttr } from '../../composables/private/use-form.js';\nimport useFile, { useFileProps, useFileEmits } from '../../composables/private/use-file.js';\nimport useFileFormDomProps from '../../composables/private/use-file-dom-props.js';\nimport { createComponent } from '../../utils/private/create.js';\nimport { humanStorageSize } from '../../utils/format.js';\nimport { prevent } from '../../utils/event.js';\nexport default createComponent({\n  name: 'QFile',\n  inheritAttrs: false,\n  props: { ...useFieldProps,\n    ...useFormProps,\n    ...useFileProps,\n\n    /* SSR does not know about File & FileList */\n    modelValue: __QUASAR_SSR_SERVER__ ? {} : [File, FileList, Array],\n    append: Boolean,\n    useChips: Boolean,\n    displayValue: [String, Number],\n    tabindex: {\n      type: [String, Number],\n      default: 0\n    },\n    counterLabel: Function,\n    inputClass: [Array, String, Object],\n    inputStyle: [Array, String, Object]\n  },\n  emits: [...useFieldEmits, ...useFileEmits],\n\n  setup(props, {\n    slots,\n    emit,\n    attrs\n  }) {\n    const {\n      proxy\n    } = getCurrentInstance();\n    const state = useFieldState();\n    const inputRef = ref(null);\n    const dnd = ref(false);\n    const nameProp = useFormInputNameAttr(props);\n    const {\n      pickFiles,\n      onDragover,\n      onDragleave,\n      processFiles,\n      getDndNode\n    } = useFile({\n      editable: state.editable,\n      dnd,\n      getFileInput,\n      addFilesToQueue\n    });\n    const formDomProps = useFileFormDomProps(props);\n    const innerValue = computed(() => Object(props.modelValue) === props.modelValue ? 'length' in props.modelValue ? Array.from(props.modelValue) : [props.modelValue] : []);\n    const hasValue = computed(() => fieldValueIsFilled(innerValue.value));\n    const selectedString = computed(() => innerValue.value.map(file => file.name).join(', '));\n    const totalSize = computed(() => humanStorageSize(innerValue.value.reduce((acc, file) => acc + file.size, 0)));\n    const counterProps = computed(() => ({\n      totalSize: totalSize.value,\n      filesNumber: innerValue.value.length,\n      maxFiles: props.maxFiles\n    }));\n    const inputAttrs = computed(() => ({\n      tabindex: -1,\n      type: 'file',\n      title: '',\n      // try to remove default tooltip,\n      accept: props.accept,\n      capture: props.capture,\n      name: nameProp.value,\n      ...attrs,\n      id: state.targetUid.value,\n      disabled: state.editable.value !== true\n    }));\n    const fieldClass = computed(() => 'q-file q-field--auto-height' + (dnd.value === true ? ' q-file--dnd' : ''));\n    const isAppending = computed(() => props.multiple === true && props.append === true);\n\n    function removeAtIndex(index) {\n      const files = innerValue.value.slice();\n      files.splice(index, 1);\n      emitValue(files);\n    }\n\n    function removeFile(file) {\n      const index = innerValue.value.findIndex(file);\n\n      if (index > -1) {\n        removeAtIndex(index);\n      }\n    }\n\n    function emitValue(files) {\n      emit('update:modelValue', props.multiple === true ? files : files[0]);\n    }\n\n    function onKeydown(e) {\n      // prevent form submit if ENTER is pressed\n      e.keyCode === 13 && prevent(e);\n    }\n\n    function onKeyup(e) {\n      // only on ENTER and SPACE to match native input field\n      if (e.keyCode === 13 || e.keyCode === 32) {\n        pickFiles(e);\n      }\n    }\n\n    function getFileInput() {\n      return inputRef.value;\n    }\n\n    function addFilesToQueue(e, fileList) {\n      const files = processFiles(e, fileList, innerValue.value, isAppending.value);\n      const fileInput = getFileInput();\n\n      if (fileInput !== void 0 && fileInput !== null) {\n        fileInput.value = '';\n      } // if nothing to do...\n\n\n      if (files === void 0) {\n        return;\n      } // protect against input @change being called in a loop\n      // like it happens on Safari, so don't emit same thing:\n\n\n      if (props.multiple === true ? props.modelValue && files.every(f => innerValue.value.includes(f)) : props.modelValue === files[0]) {\n        return;\n      }\n\n      emitValue(isAppending.value === true ? innerValue.value.concat(files) : files);\n    }\n\n    function getFiller() {\n      return [h('input', {\n        class: [props.inputClass, 'q-file__filler'],\n        style: props.inputStyle\n      })];\n    }\n\n    function getSelection() {\n      if (slots.file !== void 0) {\n        return innerValue.value.length === 0 ? getFiller() : innerValue.value.map((file, index) => slots.file({\n          index,\n          file,\n          ref: this\n        }));\n      }\n\n      if (slots.selected !== void 0) {\n        return innerValue.value.length === 0 ? getFiller() : slots.selected({\n          files: innerValue.value,\n          ref: this\n        });\n      }\n\n      if (props.useChips === true) {\n        return innerValue.value.length === 0 ? getFiller() : innerValue.value.map((file, i) => h(QChip, {\n          key: 'file-' + i,\n          removable: state.editable.value,\n          dense: true,\n          textColor: props.color,\n          tabindex: props.tabindex,\n          onRemove: () => {\n            removeAtIndex(i);\n          }\n        }, () => h('span', {\n          class: 'ellipsis',\n          textContent: file.name\n        })));\n      }\n\n      const textContent = props.displayValue !== void 0 ? props.displayValue : selectedString.value;\n      return textContent.length > 0 ? [h('div', {\n        class: props.inputClass,\n        style: props.inputStyle,\n        textContent\n      })] : getFiller();\n    }\n\n    function getInput() {\n      const data = {\n        ref: inputRef,\n        ...inputAttrs.value,\n        ...formDomProps.value,\n        class: 'q-field__input fit absolute-full cursor-pointer',\n        onChange: addFilesToQueue\n      };\n\n      if (props.multiple === true) {\n        data.multiple = true;\n      }\n\n      return h('input', data);\n    }\n\n    Object.assign(state, {\n      fieldClass,\n      emitValue,\n      hasValue,\n      inputRef,\n      innerValue,\n      floatingLabel: computed(() => hasValue.value === true || fieldValueIsFilled(props.displayValue)),\n      computedCounter: computed(() => {\n        if (props.counterLabel !== void 0) {\n          return props.counterLabel(counterProps.value);\n        }\n\n        const max = props.maxFiles;\n        return `${innerValue.value.length}${max !== void 0 ? ' / ' + max : ''} (${totalSize.value})`;\n      }),\n      getControlChild: () => getDndNode('file'),\n      getControl: () => {\n        const data = {\n          ref: state.targetRef,\n          class: 'q-field__native row items-center cursor-pointer',\n          tabindex: props.tabindex\n        };\n\n        if (state.editable.value === true) {\n          Object.assign(data, {\n            onDragover,\n            onDragleave,\n            onKeydown,\n            onKeyup\n          });\n        }\n\n        return h('div', data, [getInput()].concat(getSelection()));\n      }\n    }); // expose public methods\n\n    Object.assign(proxy, {\n      removeAtIndex,\n      removeFile,\n      getNativeElement: () => inputRef.value\n    });\n    return useField(state);\n  }\n\n});","map":{"version":3,"names":["h","ref","computed","getCurrentInstance","QChip","useField","useFieldState","useFieldProps","useFieldEmits","fieldValueIsFilled","useFormProps","useFormInputNameAttr","useFile","useFileProps","useFileEmits","useFileFormDomProps","createComponent","humanStorageSize","prevent","name","inheritAttrs","props","modelValue","__QUASAR_SSR_SERVER__","File","FileList","Array","append","Boolean","useChips","displayValue","String","Number","tabindex","type","default","counterLabel","Function","inputClass","Object","inputStyle","emits","setup","slots","emit","attrs","proxy","state","inputRef","dnd","nameProp","pickFiles","onDragover","onDragleave","processFiles","getDndNode","editable","getFileInput","addFilesToQueue","formDomProps","innerValue","from","hasValue","value","selectedString","map","file","join","totalSize","reduce","acc","size","counterProps","filesNumber","length","maxFiles","inputAttrs","title","accept","capture","id","targetUid","disabled","fieldClass","isAppending","multiple","removeAtIndex","index","files","slice","splice","emitValue","removeFile","findIndex","onKeydown","e","keyCode","onKeyup","fileList","fileInput","every","f","includes","concat","getFiller","class","style","getSelection","selected","i","key","removable","dense","textColor","color","onRemove","textContent","getInput","data","onChange","assign","floatingLabel","computedCounter","max","getControlChild","getControl","targetRef","getNativeElement"],"sources":["C:/Users/User/Documents/Projects/Option blocks/website/client/node_modules/quasar/src/components/file/QFile.js"],"sourcesContent":["import { h, ref, computed, getCurrentInstance } from 'vue'\n\nimport QChip from '../chip/QChip.js'\n\nimport useField, { useFieldState, useFieldProps, useFieldEmits, fieldValueIsFilled } from '../../composables/private/use-field.js'\nimport { useFormProps, useFormInputNameAttr } from '../../composables/private/use-form.js'\nimport useFile, { useFileProps, useFileEmits } from '../../composables/private/use-file.js'\nimport useFileFormDomProps from '../../composables/private/use-file-dom-props.js'\n\nimport { createComponent } from '../../utils/private/create.js'\nimport { humanStorageSize } from '../../utils/format.js'\nimport { prevent } from '../../utils/event.js'\n\nexport default createComponent({\n  name: 'QFile',\n\n  inheritAttrs: false,\n\n  props: {\n    ...useFieldProps,\n    ...useFormProps,\n    ...useFileProps,\n\n    /* SSR does not know about File & FileList */\n    modelValue: __QUASAR_SSR_SERVER__\n      ? {}\n      : [ File, FileList, Array ],\n\n    append: Boolean,\n    useChips: Boolean,\n    displayValue: [ String, Number ],\n\n    tabindex: {\n      type: [ String, Number ],\n      default: 0\n    },\n\n    counterLabel: Function,\n\n    inputClass: [ Array, String, Object ],\n    inputStyle: [ Array, String, Object ]\n  },\n\n  emits: [\n    ...useFieldEmits,\n    ...useFileEmits\n  ],\n\n  setup (props, { slots, emit, attrs }) {\n    const { proxy } = getCurrentInstance()\n\n    const state = useFieldState()\n\n    const inputRef = ref(null)\n    const dnd = ref(false)\n    const nameProp = useFormInputNameAttr(props)\n\n    const {\n      pickFiles,\n      onDragover,\n      onDragleave,\n      processFiles,\n      getDndNode\n    } = useFile({ editable: state.editable, dnd, getFileInput, addFilesToQueue })\n\n    const formDomProps = useFileFormDomProps(props)\n\n    const innerValue = computed(() => (\n      Object(props.modelValue) === props.modelValue\n        ? ('length' in props.modelValue ? Array.from(props.modelValue) : [ props.modelValue ])\n        : []\n    ))\n\n    const hasValue = computed(() => fieldValueIsFilled(innerValue.value))\n\n    const selectedString = computed(() =>\n      innerValue.value\n        .map(file => file.name)\n        .join(', ')\n    )\n\n    const totalSize = computed(() =>\n      humanStorageSize(\n        innerValue.value.reduce((acc, file) => acc + file.size, 0)\n      )\n    )\n\n    const counterProps = computed(() => ({\n      totalSize: totalSize.value,\n      filesNumber: innerValue.value.length,\n      maxFiles: props.maxFiles\n    }))\n\n    const inputAttrs = computed(() => ({\n      tabindex: -1,\n      type: 'file',\n      title: '', // try to remove default tooltip,\n      accept: props.accept,\n      capture: props.capture,\n      name: nameProp.value,\n      ...attrs,\n      id: state.targetUid.value,\n      disabled: state.editable.value !== true\n    }))\n\n    const fieldClass = computed(() =>\n      'q-file q-field--auto-height'\n      + (dnd.value === true ? ' q-file--dnd' : '')\n    )\n\n    const isAppending = computed(() =>\n      props.multiple === true && props.append === true\n    )\n\n    function removeAtIndex (index) {\n      const files = innerValue.value.slice()\n      files.splice(index, 1)\n      emitValue(files)\n    }\n\n    function removeFile (file) {\n      const index = innerValue.value.findIndex(file)\n      if (index > -1) {\n        removeAtIndex(index)\n      }\n    }\n\n    function emitValue (files) {\n      emit('update:modelValue', props.multiple === true ? files : files[ 0 ])\n    }\n\n    function onKeydown (e) {\n      // prevent form submit if ENTER is pressed\n      e.keyCode === 13 && prevent(e)\n    }\n\n    function onKeyup (e) {\n      // only on ENTER and SPACE to match native input field\n      if (e.keyCode === 13 || e.keyCode === 32) {\n        pickFiles(e)\n      }\n    }\n\n    function getFileInput () {\n      return inputRef.value\n    }\n\n    function addFilesToQueue (e, fileList) {\n      const files = processFiles(e, fileList, innerValue.value, isAppending.value)\n      const fileInput = getFileInput()\n\n      if (fileInput !== void 0 && fileInput !== null) {\n        fileInput.value = ''\n      }\n\n      // if nothing to do...\n      if (files === void 0) { return }\n\n      // protect against input @change being called in a loop\n      // like it happens on Safari, so don't emit same thing:\n      if (\n        props.multiple === true\n          ? props.modelValue && files.every(f => innerValue.value.includes(f))\n          : props.modelValue === files[ 0 ]\n      ) {\n        return\n      }\n\n      emitValue(\n        isAppending.value === true\n          ? innerValue.value.concat(files)\n          : files\n      )\n    }\n\n    function getFiller () {\n      return [\n        h('input', {\n          class: [ props.inputClass, 'q-file__filler' ],\n          style: props.inputStyle\n        })\n      ]\n    }\n\n    function getSelection () {\n      if (slots.file !== void 0) {\n        return innerValue.value.length === 0\n          ? getFiller()\n          : innerValue.value.map(\n            (file, index) => slots.file({ index, file, ref: this })\n          )\n      }\n\n      if (slots.selected !== void 0) {\n        return innerValue.value.length === 0\n          ? getFiller()\n          : slots.selected({ files: innerValue.value, ref: this })\n      }\n\n      if (props.useChips === true) {\n        return innerValue.value.length === 0\n          ? getFiller()\n          : innerValue.value.map((file, i) => h(QChip, {\n            key: 'file-' + i,\n            removable: state.editable.value,\n            dense: true,\n            textColor: props.color,\n            tabindex: props.tabindex,\n            onRemove: () => { removeAtIndex(i) }\n          }, () => h('span', {\n            class: 'ellipsis',\n            textContent: file.name\n          })))\n      }\n\n      const textContent = props.displayValue !== void 0\n        ? props.displayValue\n        : selectedString.value\n\n      return textContent.length > 0\n        ? [\n            h('div', {\n              class: props.inputClass,\n              style: props.inputStyle,\n              textContent\n            })\n          ]\n        : getFiller()\n    }\n\n    function getInput () {\n      const data = {\n        ref: inputRef,\n        ...inputAttrs.value,\n        ...formDomProps.value,\n        class: 'q-field__input fit absolute-full cursor-pointer',\n        onChange: addFilesToQueue\n      }\n\n      if (props.multiple === true) {\n        data.multiple = true\n      }\n\n      return h('input', data)\n    }\n\n    Object.assign(state, {\n      fieldClass,\n      emitValue,\n      hasValue,\n      inputRef,\n      innerValue,\n\n      floatingLabel: computed(() =>\n        hasValue.value === true\n        || fieldValueIsFilled(props.displayValue)\n      ),\n\n      computedCounter: computed(() => {\n        if (props.counterLabel !== void 0) {\n          return props.counterLabel(counterProps.value)\n        }\n\n        const max = props.maxFiles\n        return `${ innerValue.value.length }${ max !== void 0 ? ' / ' + max : '' } (${ totalSize.value })`\n      }),\n\n      getControlChild: () => getDndNode('file'),\n      getControl: () => {\n        const data = {\n          ref: state.targetRef,\n          class: 'q-field__native row items-center cursor-pointer',\n          tabindex: props.tabindex\n        }\n\n        if (state.editable.value === true) {\n          Object.assign(data, { onDragover, onDragleave, onKeydown, onKeyup })\n        }\n\n        return h('div', data, [ getInput() ].concat(getSelection()))\n      }\n    })\n\n    // expose public methods\n    Object.assign(proxy, {\n      removeAtIndex,\n      removeFile,\n      getNativeElement: () => inputRef.value\n    })\n\n    return useField(state)\n  }\n})\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}